# Predusk Assignment

This project is a full-stack application consisting of a Python backend using FastAPI and a Next.js frontend.

## Overview

### Backend
* **Framework:** Built with FastAPI.
* **LLM:** Uses Gemini Flash (latest) as the Large Language Model.
* **Database:** Uses Qdrant (Free Tier) as the vector database.
* **Orchestration:** Uses LangChain.
* **Hosting:** Hosted locally and exposed using `ngrok` (due to heavy LLM-based service costs on cloud platforms).

### Frontend
* **Framework:** Built with Next.js.
* **Hosting:** Deployed on Vercel.
* **UI:** Provides a modern and responsive user interface.

## Tech Stack

* **LLM:** Gemini Flash (latest)
* **Vector Database:** Qdrant (Free Tier)
* **Backend Framework:** FastAPI
* **Frontend Framework:** Next.js
* **Frontend Hosting:** Vercel
* **Backend Hosting:** Local server + ngrok

## Prerequisites

* Python 3.8+
* Node.js 18+
* npm or yarn
* ngrok (free tier)

## Backend Setup

1.  Navigate to the backend directory:
    ```bash
    cd backend
    ```

2.  Create a virtual environment (optional but recommended):
    ```bash
    # macOS/Linux
    python -m venv venv
    source venv/bin/activate

    # Windows
    python -m venv venv
    venv\Scripts\activate
    ```

3.  Install dependencies:
    ```bash
    pip install -r req.txt
    ```

4.  Set up environment variables:
    Create a `.env` file in the `backend` directory and add the following:
    * Gemini API Key
    * Qdrant Configuration
    * Any additional required keys

5.  Run the FastAPI server:
    ```bash
    uvicorn main:app --reload
    ```

6.  Expose the backend using ngrok:
    ```bash
    ngrok http 8000
    ```

The backend will be accessible at:
* Local: `http://localhost:8000`
* Public: The URL generated by `ngrok`

## Frontend Setup

1.  Navigate to the frontend directory:
    ```bash
    cd frontend
    ```

2.  Install dependencies:
    ```bash
    npm install
    # or
    yarn install
    ```

3.  Configure environment variables:
    Create a `.env.local` file and add the ngrok backend URL.

4.  Run the development server:
    ```bash
    npm run dev
    # or
    yarn dev
    ```

5.  Open the app in your browser:
    `http://localhost:3000`

## Deployment

### Frontend (Vercel)
* Deployed on Vercel.
* Environment variables are configured via the Vercel dashboard.
* Automatically redeploys on each push to the main branch.

### Backend (Local + ngrok)
* Runs locally due to free-tier hosting limitations for heavy LLM workloads.
* `ngrok` is used to expose the backend publicly for frontend access.

## Running Both Services

To run the full stack, open two terminal windows:

**Terminal 1:**
1.  Run FastAPI.
2.  Run `ngrok` to expose port 8000.

**Terminal 2:**
1.  Ensure the frontend `.env.local` points to the current `ngrok` URL.
2.  Run the Next.js frontend.

## Project Structure

```text
predusk_assignment/
├── backend/
│   ├── main.py          # FastAPI application
│   ├── req.txt          # Python dependencies
│   └── .gitignore       # Python-specific ignores
├── frontend/
│   ├── src/
│   │   └── app/         # Next.js app directory
│   ├── package.json     # Node.js dependencies and scripts
│   ├── next.config.ts   # Next.js configuration
│   └── .gitignore       # Frontend ignores
└── README.md            # Project documentation
